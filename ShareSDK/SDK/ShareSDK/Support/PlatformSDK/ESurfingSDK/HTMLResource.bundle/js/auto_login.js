var autoLogin={j_login_mobile:document.getElementById("j-login-mobile"),j_login_title:document.getElementById("j-login-title"),j_auto_login:document.getElementById("j-auto-login"),j_auto_header:document.getElementById("j-auto-header"),j_client_back:document.getElementById("j-client-back"),j_login_link:document.getElementById("j-login-link"),j_tab_login_link:document.getElementById("j-tab-login-link"),j_app_name:document.getElementById("j-app-name"),j_appName:document.getElementById("j-appName"),j_loading_text:document.getElementById("j-loading-text"),j_logo_icon:document.getElementById("j-logo-icon"),j_support:document.getElementById("j_support"),j_help_autoLogin:document.getElementById("j-help-autoLogin"),cacheDeviceData:{},accessCodeData:{accessCode:"",accessCodeCreateTime:"",accessCodeVaildTime:"",encryptMobile:"",accessOperator:""},loginLinkText:{1:"账号密码登录",2:"短信验证登录",3:"其他登录方式"},loginLinkUrl:{1:_mini_prefix+"login.html",2:_mini_prefix+"sms_login.html",3:_mini_prefix+"sms_login.html"},loginTitleText:"以本机号码登录",page:"免密登录页",errorMsg:{errorClientFn:"服务器连接失败，请稍候再试",errorClientCallData:"客户端连接失败，请稍候再试",errorunnet:"连接失败，请检查您的网络设置",errorwifi:"请切换到移动数据网络，进行免密登录",errormobilenet:"当前网络无法免密登录",isLoginText:"该账号已登录，请登录其他账号",threePopupText:"请使用",errorAutoLogin:"当前网络不支持免密登录",freezeAccount:"账号出现异常，系统自动冻结"},loginText:"",loginLink:"",checkToken:!1,init:function(){var e=this;if(initData.baseV){var t=document.getElementsByClassName("login-agreement")[0].innerHTML.length,i=document.getElementById("j-br");t>370&&(i.className=""),popup.setOptions(),appkeyForUrl.linkForAutoLogin(),e.checkToken=timeoutToken.checkTokenTimeout(),e.checkToken&&timeoutToken.settingModifyAccount(),"8013418323"===initData.baseV.appkey&&e.j_support.classList.remove("hide"),e.eventListener(),e.handelAccessCodeData(),checkAccessCode.setOptions(e.accessCodeData),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"打开","免密登录页"]),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页",onlineTypeText[initData.baseV.onlinetype]])}},initDOM:function(){var e=this,t="true"===initData.baseV.hidetop?"ui-button-back hide2":"ui-button-back";e.j_client_back.className=t,"true"===initData.baseV.isShowQa&&e.j_help_autoLogin.classList.add("inline-block"),initData.baseV.autoBtnText&&initData.baseV.autoBtnText.replace(/\s+/g,"").length>0&&(e.j_auto_login.value=initData.baseV.autoBtnText);isios||(e.j_logo_icon.src="file:///android_asset/ctares/images/topIcon/topIcon-logo.png"),e.isShowMobileNum(),e.j_app_name.innerHTML=initData.baseV.appname||"",e.j_appName.innerHTML=initData.baseV.appname||"","true"===(initData.baseV.basicapp||"false")?e.initBasicAppLink():e.initLoginLink()},isShowMobileNum:function(){var e=this;checkEntryMobileTitle(initData.baseV)?(e.j_login_mobile.innerHTML=initData.baseV.encryptMobile,e.j_login_title.classList.remove("hide2")):(e.j_login_mobile.innerHTML=e.loginTitleText,e.j_login_title.classList.remove("hide2")),_isMiniSdk&&"false"===initData.baseV.isShowOtherLogin&&(e.j_tab_login_link.classList.add("hide"),e.j_login_title.classList.add("text-center"))},initBasicAppLink:function(){var e=this;e.j_login_link.innerHTML="切换账号",e.j_tab_login_link.href="javascript:window.JSKitOnClient.basicLoginCallBack('triggerByClick');",e.j_login_link.href="javascript:window.JSKitOnClient.basicLoginCallBack('triggerByClick');",e.loginLink="javascript:window.JSKitOnClient.basicLoginCallBack('triggerByClick');",e.j_login_link.setAttribute("onclick","_uxt.push(['_trackEvent', '"+_uxtsdkid+"+SDK"+_uxt_version+"+免密登录页', '点击','基地切换账号'])"),e.j_tab_login_link.setAttribute("onclick","_uxt.push(['_trackEvent', '"+_uxtsdkid+"+SDK"+_uxt_version+"+免密登录页', '点击','基地切换账号'])")},initLoginLink:function(){var e=this,t=initData.baseV.loginway?initData.baseV.loginway.split("|"):"1";t="1"!==t[0]&&"2"!==t[0]?["1"]:t,e.j_login_link.innerHTML="切换账号",e.j_tab_login_link.href=e.loginLinkUrl[t[0]],e.j_login_link.href=e.loginLinkUrl[t[0]],e.loginLink=e.loginLinkUrl[t[0]],e.j_login_link.setAttribute("onclick","_uxt.push(['_trackEvent', '"+_uxtsdkid+"+SDK"+_uxt_version+"+免密登录页', '点击','切换账号'])"),e.j_tab_login_link.setAttribute("onclick","_uxt.push(['_trackEvent', '"+_uxtsdkid+"+SDK"+_uxt_version+"+免密登录页', '点击','切换账号'])")},handelAccessCodeData:function(){var e=this;for(var t in e.accessCodeData)e.accessCodeData[t]=void 0!==initData.baseV[t]?initData.baseV[t]:e.accessCodeData[t];return e.accessCodeData},handelLoginUnfreeze:function(){var e=this;popup.showErrorPopup(e.errorMsg.freezeAccount,!1),popup.showErrorBtn("取消","解冻账号","https://e.189.cn/sdk/agreement/helpReply.do?returnUrl=auto_login.html&i=8&forSDK=true&forFreeze=true"),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+免密登录失败"])},handelTokenTimeOut:function(e,t,i,n){var o=this;"false"===e?o.handelLoginResultFail(t):o.handelLoginResultSuccess(i,n)},handelLoginResultFail:function(e){var t=this;"true"===initData.baseV.basicapp?(window.JSKitOnClient.basicLoginCallBack("triggerByAuto"),popup.closePopup()):(t.j_loading_text.innerHTML=t.errorMsg.errorAutoLogin,setTimeout(function(){window.location.href=t.loginLink+"?onlinetype="+e+"&unautologin=true&forTokenTimeout="+t.checkToken+"#unauto"},1500)),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+免密登录失败"])},handelLoginResultSuccess:function(e,t){var i=this;"true"===e?(popup.showErrorPopup(i.errorMsg.isLoginText,!1),popup.showErrorBtn("确定","登录其他账号",i.loginLink)):(i.j_loading_text.innerHTML=t+" 免密登录中",setTimeout(function(){window.JSKitOnClient.autoLoginSuccess()},2e3)),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+免密登录成功"])},gatewayLoginCallBack:function(e){e=JSON.parse(e);var t=this;if(checkAccessCode.delAccessCode(),e&&e.hasOwnProperty("result")){var i=parseInt(e.result),n=e.mobile?e.mobile:"",o=e.islogin||!1,a=e.onlinetype||"",s=e.status||"",l=e.isTokenAccount?e.isTokenAccount:"";if(0===i||"0"===i)switch(s){case 8:case"8":case 30:case"30":t.handelLoginResultFail(a);break;case 9:case"9":t.handelLoginUnfreeze();break;case 0:case"0":default:t.handelTokenTimeOut(l,a,o,n)}else switch(t.handelLoginResultFail(a),a){case 0:case"0":_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+取号失败+只开移动数据网络"]);break;case 1:case"1":_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+取号失败+开启WiFi和移动数据网络"]);break;case 2:case"2":_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+取号失败+只开WiFi"]);break;default:_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+取号失败+未知网络问题"])}}else popup.showErrorPopup(t.errorMsg.errorClientCallData,!0),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+免密登录失败"])},handelGateWayLogin:function(e){var t=this;if("true"===e){popup.showLoadingPopup("请稍候");preGetMobileUtil.preGetMobile();_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version+"+免密登录页","点击","确认登录"])}else popup.showErrorPopup(t.errorMsg.errorunnet,!0),_uxt.push(["_trackEvent",_uxtsdkid+"+SDK"+_uxt_version,"免密登录页","统计+取号失败+未知网络问题"])},eventListener:function(){var e=this;e.j_auto_login.addEventListener("click",function(t){var i=window.JSKitOnClient.isNetworkAvailable("autoLogin.handelGateWayLogin");e.handelGateWayLogin(i),t.stopPropagation(),t.preventDefault()})}};